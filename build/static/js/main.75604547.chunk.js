(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){e.exports=a(61)},39:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),o=a.n(c),i=(a(39),a(11)),s=a(10),u=a.n(s),l=a(17),m=a(28),p=a(32),f=a.n(p),d=a(8),h=a(18),b=a(33),v=a.n(b),w=(a(60),v.a.create({baseURL:"https://created-2020-server.herokuapp.com/api"}));var E=function(){Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("access_token");e&&function(){var t=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.get("authorise",{params:{access_token:e}});case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}()().then((function(e){if("OK"===e.data.status){var t=e.data,a=t.mlh_data,n=t.form_data;c(a),b(n),O(n.submitted),x(n.field)}else console.log("Error connecting to mlh")}))}),[]);var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({}),s=Object(i.a)(o,2),p=s[0],b=s[1],v=Object(n.useState)(!1),E=Object(i.a)(v,2),g=E[0],O=E[1],j=Object(n.useState)(""),k=Object(i.a)(j,2),y=k[0],x=k[1],S=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=Object.assign({},p,{submitted:g},{field:t.target[0].value}),r={mlh_data:a,form_data:n},console.log(r),e.prev=4,e.next=7,w.post("submit-form",{data:r});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}();return new URLSearchParams(window.location.search).get("access_token")?r.a.createElement(m.a,{theme:f.a},r.a.createElement(d.a,{as:"form",py:3,onSubmit:S},r.a.createElement(d.c,{mx:-2,mb:3},r.a.createElement(d.a,{width:.5,px:2},r.a.createElement(h.b,{htmlFor:"field"},"Field"),r.a.createElement(h.a,{id:"field",name:"field",defaultValue:y}))),r.a.createElement(d.a,{px:2,ml:"auto"},r.a.createElement(d.b,{type:"submit",variant:"primary"},"Save"),r.a.createElement(d.b,{type:"submit",onClick:function(){return O(!0)},variant:"primary"},"Submit")))):r.a.createElement("div",null,"Error Not Authorised - Go away!")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.75604547.chunk.js.map